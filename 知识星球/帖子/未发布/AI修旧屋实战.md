# AI修旧屋实战

上一篇关于“AI专家团队”的分享，激发出社群内极高质量的讨论。特别是成员“炎阳天”结合自己的WordPress插件开发经验，提出了一个灵魂问题：

**AI专家团队擅长“平地建新房”，但如果面对的是一个已经存在的、复杂的“旧屋”，要如何“装修”、“改造”甚至“重建”？**

这个问题切中了要害。因为在真实世界里，我们绝大多数时候都不是从零开始，而是要维护、迭代、重构那些已经存在的“代码遗产”。

今天，我们就来深入探讨这个“AI修旧屋”的实战心法。

---

### **核心挑战：“信息黑盒”**

直接让“后端工程师Agent”去修改一个复杂的旧项目，就像让装修师傅在不给图纸、不告知哪是承重墙的情况下直接动工。结果必然是灾难性的。

“旧屋”的核心挑战，在于它是一个**“信息黑盒”**。我们缺乏一份清晰、准确、实时更新的**“项目现状蓝图”**。

所以，在我们的“AI专家团队”正式动工前，必须先引入一个全新的、至关重要的角色。

### **第一步：召唤“代码考古学家Agent”（由后端工程师扮演）**

这位“考古学家”的核心任务只有一个：**对“旧屋”（存量代码库）进行一次彻底的“勘探与测绘”，将“信息黑盒”转化为一份清晰的“项目蓝图”**。

我们的团队里没有一个常驻的“代码考古学家”，这是一个临时的、至关重要的角色，最适合由**「后端工程师Agent」**来扮演。因为他本身就具备最强的代码和架构分析能力。

我们作为“导演”，需要向他下达一份详尽的“勘探任务书”式Prompt，来让他完成这次“角色扮演”。

它的工作流程应该是这样的：

**【代码考古学家 角色扮演指令】**

1.  **角色定义**：你是一位顶级的软件架构师，暂时放下你后端工程师的身份，现在你的任务是深入分析一个陌生的代码库，并为后续的开发团队生成一份清晰、全面的项目解析报告。
2.  **上下文输入**：
    *   提供完整的项目代码访问权限。
    *   告知项目的核心目标（例如：这是一个WordPress的SEO插件）。
    *   告知你的具体意图（例如：我希望你为接下来的重构工作做准备）。
3.  **核心指令（勘探纲要）**：
    *   **分析代码结构**：识别并总结项目的文件/目录结构，解释各个核心模块的功能。
    *   **识别技术栈与依赖**：列出所有使用的编程语言、框架、库、外部API和特定工具（例如WordPress的Hooks、Filters）。
    *   **梳理核心业务逻辑**：解释清楚项目是如何实现其核心功能的，关键的数据流是怎样的。
    *   **提炼现有规则**：从代码中总结出潜在的、不成文的开发规范、命名风格或设计模式。这比任何文档都真实。
    *   **识别潜在风险**：指出代码中可能存在的耦合过高、逻辑复杂、缺乏注释或潜在的性能瓶颈。
4.  **交付产物**：根据以上分析，生成一份结构化的《项目现状蓝图》文档。

---

### **第二步：让AI团队拿着“蓝图”进场**

当“代码考古学家”完成工作后，我们就得到了一份宝贵的《项目现状蓝图》。它至少应该包含：

*   项目技术栈总览
*   核心功能与业务逻辑图
*   模块依赖关系图
*   API与数据接口清单
*   现有代码规范与“部落知识”
*   重构与优化建议

有了这份蓝图，接下来的一切就顺理成章了。但请注意，我们不能直接拿着这份“现状图”去指导未来的开发，因为它只记录了“过去”，没有定义“未来”。

---

### **第三步：蓝图归一，回归正轨**

“修旧屋”的最终目的，是让它回归到一个健康、可维护、可迭代的正常轨道上。因此，在完成代码考古后，我们必须进行一次**“蓝图的对齐与合并”**。

我们应立即将这份《项目现状蓝图》交给「产品经理Agent」，并向它下达新的指令：

> “@产品经理Agent，这是我们项目当前的《项目现状蓝图》[附上考古学家输出的完整文档]。现在，我希望在此基础上，规划下一步的迭代版本，增加[例如：一个用户积分体系]功能。请你结合现状和新需求，为我生成一份全新的、权威的开发蓝图（PRD V1.0）。”

这份由PM Agent输出的**PRD V1.0**，就是融合了“历史事实”和“未来目标”的、项目**新的“唯一事实源”**。

至此，我们就完成了从“建新房”到“修旧屋”，再回到“健康迭代”的完整方法论闭环。后续所有的开发工作，都应严格遵循《从1到N：AI团队的迭代与修复指南》中的原则，围绕这份最新的PRD展开。

---

希望这个“代码考古学家”的概念，能为你手中的“旧项目”带来新的生机。

**最后，依然留一个开放性问题给大家：**

如果让你立刻召唤一位“代码考古学家”，你最希望他帮你勘探哪个“代码旧屋”？你最想从那份“项目蓝图”里看到的第一条信息是什么？

期待在评论区看到你的项目故事。

---
William \
分享连接你我，AI点燃心火。
