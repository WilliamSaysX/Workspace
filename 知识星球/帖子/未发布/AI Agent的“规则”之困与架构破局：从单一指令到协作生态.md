# AI Agent的“规则”之困与架构破局：从单一指令到协作生态

大家好，我是William。

今天，我想和大家深入探讨一个关乎我们AI协作能力能否实现“代际跨越”的战略性问题。

这个问题的起点，源自社群成员“不忘初心”前几天发布的一篇极具价值的帖子。他遇到的一个具体的技术痛点，像一颗精准的照明弹，瞬间照亮了我们所有人（包括各种AI编程工具本身）在“高级AI协作”这条路上，共同面临的巨大瓶颈。

---

### “单一规则”之困：一个所有人都感同身受的痛

“不忘初心”在帖子中提到，他在使用Trae时，遇到了两个让他非常困惑的问题：
1.  **“每项目只许一个独立单一规则”**：当他想为一个复杂的项目定义一套协作流程时，却发现系统只允许他使用一个单一的`project_rules.md`文件。
2.  **“载入rules又易死机重启”**：当他试图把复杂的逻辑硬塞进这个单一的文件时，整个工具就变得极其不稳定，甚至崩溃。

我相信，这个痛点，绝不仅仅是Trae的问题。所有尝试过在Cursor、Trae或其他类似工具中，通过编辑`Rules`文件来定义复杂工作流的朋友，一定都或多或少地感受过这种“心有余而力不足”的窘迫。

你感觉自己想指挥一个“团队”，但手里的工具却只给你一个“喊话筒”，最终你只能把所有指令都挤在这个小小的喊话筒里，结果就是信息混乱、执行崩溃。

“不忘初心”的伟大之处在于，他不仅描述了症状，更精准地诊断了病根——**他意识到，问题的核心，出在了“规则”上。**

---

### 正本清源：我们是否“用错”了Rules？

“不忘初心”的实践，引发了一个更深刻的问题：是不是我们从一开始，就“用错”了`Rules`这个功能？

为了解答这个问题，我专门去研究了Cursor等工具的官方文档，并结合我之前在《超越Prompt》一文中的思考，得出了一个清晰的结论：

**是的，我们很可能都“用错”了。**

`Rules`这个功能，无论是Cursor的`.cursor/rules`体系，还是Trae的`project_rules.md`，其设计的**核心目的**，是作为一个**“环境法则”配置系统**。

它的正确用法是：
*   **设定全局偏好**：比如“永远用中文回复”、“代码注释必须是英文”。
*   **编码风格约束**：比如“代码缩进使用2个空格”、“遵循RESTful规范”。
*   **注入领域知识**：比如“这是一个Vue3+TypeScript的项目，请使用Composition API”。
*   **提供可复用模板**：比如“创建一个新的React组件时，使用这个模板文件”。

看到了吗？`Rules`的本质，是给AI提供一个**静态的、持久的、可复用的“指令背景”或“上下文偏好”**。它擅长回答“AI应该**是**什么样”或者“AI应该**遵守**什么”，但它根本不具备回答“AI应该**按什么流程做事**”的能力。

而“不忘初心”的困境，恰恰在于他试图用一个设计来“设定环境”的工具，去强行承载“编排流程”的重任。这就像试图用交通法规手册去指挥整个城市的实时交通调度，结果必然是灾难性的。

---

### 破局之道：引入新物种——代码化的“协作框架”

既然`Rules`文件不是解决之道，那真正的出路在哪里？

答案是：**我们必须引入一个全新的物种，一个专门为“流程编排”而生的工具——代码化的协作框架，其中的佼佼者，就是CrewAI。**

如果说`Rules`文件是一本《员工手册》，那么CrewAI就是一套**《公司操作系统》**。

它与`Rules`最大的区别在于：
*   **`Rules`是静态的、基于自然语言的“配置文件”。**
*   **`CrewAI`是动态的、基于代码的“编程框架”。**

通过CrewAI，我们可以用几行Python代码，清晰地定义出`Rules`文件完全无法描述的复杂协作逻辑：
*   **团队构成 (Agents)**：我的团队里有哪些专家？
*   **任务清单 (Tasks)**：他们分别要做什么？
*   **工作流程 (Process)**：他们是应该按顺序工作（Sequential），还是可以并行处理（Hierarchical）？
*   **信息流转 (Context)**：产品经理的PRD文档，如何能精准无误地传递给后端工程师，成为他工作的唯一输入？

这种“代码即规则”的模式，从根本上解决了“单一规则”和“易死机”的困境，因为它天生就是**分布式的、模块化的、健壮的**。

---

### 未来蓝图：当“环境法则”遇上“协作框架”

所以，我们最终的进化方向，并不是用CrewAI去“取代”`Rules`，而是在一个更高的维度上，让它们**各司其职、完美融合**。

未来的AI研发体系，将是一个分工明确的协作生态：

*   **`Rules`文件（环境法则层）**：回归它的本职工作。我们依然用它来设定全局的编码规范、语言偏好、技术栈背景。它像空气和水，为所有Agent提供基础的生存环境。

*   **`CrewAI`脚本（流程协作层）**：成为我们AI团队的“总指挥中心”。我们用它来设计和执行具体的、复杂的项目工作流。它像公司的大脑和神经系统，负责指挥和调度。

*   **`Claude Code`等工具（专家执行层）**：作为我们CrewAI可以调用的、强大的“外部工具”，去执行那些最需要深度代码理解和操作的原子任务。

**总结一下：**

“不忘初心”的探索，为我们揭示了一个深刻的真理：**试图用单一的、静态的规则去驾驭复杂的AI协作，是一条死胡同。**

真正的进化之路，在于拥抱“代码化的协作框架”，将我们的智慧，从“写好一条指令”，真正升维到“设计一套体系”。

这正是我们社群从“AI使用者”迈向“AI架构师”的关键一步。

--- 
William \
分享连接你我，AI点燃心火。 