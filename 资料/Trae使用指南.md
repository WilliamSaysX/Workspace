# Trae IDE 使用指南：释放 AI 驱动的开发潜能

欢迎来到 Trae IDE 的世界！Trae (/treɪ/) IDE 不仅仅是一个集成开发环境，更是一位智能的编程伙伴，旨在通过其强大的人工智能功能，如 AI 问答、代码自动补全和基于 Agent 的 AI 编程能力，显著提升您的开发效率。本指南将带您深入了解 Trae IDE 的核心功能、使用场景以及如何充分利用它来革新您的编程工作流。

## 1. Trae IDE 概览

Trae IDE 结合了传统 IDE 的核心功能与尖端的人工智能技术，为您提供一个无缝且高效的开发体验。

- **全面的 IDE 功能**：支持代码编写、项目管理、扩展管理、版本控制等基础开发需求。
- **强大的 AI 助手**：内置 AI 助手，能够理解您的代码和意图，提供实时帮助。
- **AI 驱动的开发**：从代码片段生成到完整的项目开发，AI 都能在其中扮演关键角色。
- **模型上下文协议 (MCP)**：允许 Trae IDE 连接外部工具和服务，扩展其能力。

## 2. 核心功能详解

### 2.1 AI 交互与辅助

Trae IDE 提供了多种与 AI 助手交互的方式，让您在编码过程中随时获得支持。

- **侧边栏聊天 (Side Chat)**：
    - 打开方式：通常默认打开，或使用快捷键 (macOS: Command + U; Windows: Ctrl + U)。
    - 功能：解答编码问题、解释代码库、生成代码片段、修复错误等。
    - 特色：支持多模型切换、使用 Agent、添加上下文、输入多模态内容（如图片）。
- **行内聊天 (Inline Chat)**：
    - 调用方式：光标处使用快捷键 (macOS: Command + I; Windows: Ctrl + I)，或选中代码后点击浮动菜单的“编辑”按钮。
    - 功能：针对选定代码进行提问、添加注释、解释代码、优化代码等。
    - 优势：在编辑器内直接交互，保持编码流程的连贯性。
- **代码自动补全 (Auto-completion)**：
    - 自动代码补全：当您按下回车键创建新行时，AI 助手会理解当前代码并自动补全后续代码。
    - 基于注释的代码补全：在需要的位置添加注释，AI 助手会根据注释内容生成相关代码。
    - 操作：鼠标悬停在自动补全的代码区域，按 Tab 键一次性插入所有代码，或使用 Ctrl + → (macOS) / Ctrl + Right Arrow (Windows) 逐词添加。

### 2.2 AI Agent：您的智能编程助理

Agent 是为不同开发场景设计的编程助手，能够自主操作、理解项目上下文并执行多步骤任务。

- **Agent 的能力**：
    - 自主操作：独立探索代码库，识别相关文件，并进行必要的代码更改。
    - 完全工具访问：利用所有可用工具进行搜索、编辑、创建文件和运行终端命令。
    - 上下文理解：全面理解项目的结构和依赖关系。
    - 多步骤规划：将复杂任务分解为可执行步骤并按顺序处理。
- **内置 Agent**：
    - **Builder**：帮助您从头开始开发完整项目，利用各种工具（分析代码、编辑代码、运行命令等）响应您的请求。
    - **Builder with MCP**：在 Builder 的基础上，自动添加所有您设置的 MCP 服务器（不可编辑）。
- **创建自定义 Agent**：
    - 入口：侧边栏聊天框右上角设置图标 > Agents，或在输入框点击 @Agent > + Create Agent。
    - 配置项：头像、名称、Prompt（指定角色、语气、工作流、工具使用时机等）、工具（MCP 服务器、内置工具如文件系统、终端、Web 搜索、预览）。
- **Agent 工作流**：需求分析 -> 代码研究 -> 方案设计 -> 实现变更 -> 交付与验收。
- **代码变更处理**：AI 生成的代码变更会以 diff 格式显示，您可以选择接受或拒绝。
    - 批量处理（多文件）：点击文件列表上方的“Accept All”或“Reject All”。
    - 单文件处理：打开文件，点击顶部提示栏的“Accept”或“Reject”。
    - 单个变更处理：点击特定代码变更右上角的 ^Y 或 ^N 按钮。
- **生成和运行命令**：Agent 会根据需要推荐 Shell 命令，您可以选择运行或跳过。运行后，Agent 会自动读取和分析结果。
- **预览结果**：Agent 完成需求后，可提供“Preview”按钮，在预览窗口中展示结果，并支持实时更新。
- **版本回退**：可将项目回退到最近10轮聊天中某一轮之前的版本（操作不可撤销）。
- **Auto-Run 功能**：允许 Agent 自动执行其认为安全且不在黑名单中的命令和 MCP 服务（需谨慎使用，注意安全风险）。

### 2.3 模型上下文协议 (MCP)

MCP 是一种允许大语言模型 (LLM) 访问自定义工具和服务的协议。在 Trae 中，Agent 作为 MCP 客户端，可以请求 MCP 服务器以利用其提供的工具。

- **设置系统环境**（确保 MCP 服务器正常启动）：
    - **npx**: 需要 Node.js 18 或更高版本。
    - **uvx**: 基于 Python 的快速执行工具，需手动安装 (Python 3.8+)。
    - **(可选) Docker**: 使用 GitHub MCP 服务器时需要安装。
- **配置 MCP 服务器**：
    - 从市场添加：在 MCP 市场选择并配置（可能需要粘贴 JSON 配置并替换 env 信息）。
    - 手动配置：输入 JSON 配置或从其他 IDE 的 `mcp.json` 文件中粘贴。
- **在 Agent 中使用 MCP 服务器**：将配置好的 MCP 服务器添加到自定义 Agent 的工具列表中，或使用内置的“Builder with MCP”。

## 3. 开始使用 Trae IDE

1.  **下载与安装**：访问 Trae 官方渠道获取安装包，支持 macOS (10.15+) 和 Windows (10, 11)。
2.  **环境准备**（针对 MCP 功能）：
    *   安装 Node.js (18+)：从 [Node.js 官网](https://nodejs.org/) 下载并安装，通过 `node -v` 和 `npx -v` 验证。
    *   安装 uvx：先确保 Python (3.8+) 已安装，然后通过 `curl -LsSf https://astral.sh/uv/install.sh | sh` (macOS/Linux) 或 `powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"` (Windows) 安装 uv，再通过 `uvx --version` 验证。
    *   (可选) 安装 Docker：根据操作系统从 Docker 官网下载并安装。
3.  **基本操作**：
    *   打开项目，熟悉界面布局。
    *   尝试使用侧边栏聊天 (Command+U / Ctrl+U) 提问或请求代码生成。
    *   在编辑器中输入代码，体验自动补全功能。
    *   选中代码，使用行内聊天 (Command+I / Ctrl+I) 进行快速编辑或解释。
    *   尝试使用 `@Agent` 提及内置的 Builder Agent 来辅助开发任务。

## 4. Trae IDE 使用场景

- **0到1项目开发**：告诉 AI 您想开发的程序类型，它能提供代码或自动创建相关文件。
- **代码解释与学习**：快速理解陌生的代码库或学习新的编程语言特性。
- **代码生成与重构**：根据自然语言描述生成代码片段，或对现有代码进行优化和重构。
- **错误修复与调试**：向 AI 描述错误信息或粘贴代码，获取修复建议。
- **自动化任务**：通过 Agent 执行重复性的开发任务，如批量修改、生成文档等。

## 5. 高效使用技巧

- **清晰的 Prompt**：向 AI 提问或下达指令时，尽量清晰、具体地描述您的需求和上下文。
- **善用上下文**：通过 `@` 符号在聊天中引用文件、代码片段，帮助 AI 更准确地理解您的意图。
- **迭代优化**：如果 AI 的首次回答不完美，可以通过追问或“Retry”按钮进行迭代优化。
- **自定义 Agent**：针对特定任务创建自定义 Agent，配置专属的 Prompt 和工具集，以达到最佳效果。
- **管理历史聊天**：通过聊天框右上角的“Show History”按钮查看和管理历史对话，方便回溯和复用。

Trae IDE 致力于成为您开发旅程中的得力助手。随着您对各项功能的深入探索和熟练运用，相信它能为您的编程工作带来前所未有的便捷与高效。祝您使用愉快！