# Agent 个性化学习系统协作指南

本指南描述了通过协调多个专业智能体（Agent）以模块化方式实现 NotebookLM 核心功能的协作模式。用户负责发起任务和整合结果，各个 Agent 则专注于执行特定的核心功能。

## 核心理念

围绕 NotebookLM 的核心功能（文档管理、智能问答、自动摘要、笔记生成、音频总结）构建独立的 Agent 服务。用户可以根据需求自由调用这些 Agent，它们之间没有严格的先后顺序。**文档管理 Agent** 负责将各种输入源统一转换为 Markdown 格式，其他 Agent 则可以直接处理用户提供的 Markdown 文档或利用文档管理 Agent 的输出。

## Agent 团队及功能模块

1.  **文档转换 Agent (Document Conversion Agent)**：
    *   **职责**: 核心任务是将用户提供的各种输入源（包括本地文档如 PDF、Word、TXT 等，网页链接，以及 Google 文档）统一转换为 Markdown (.md) 格式。Agent 将优先调用一个通用的、支持多种格式转换的 MCP 工具（例如，一个能够处理文件和网页链接并输出 Markdown 的综合性 MCP 服务，如 `markdownify-mcp`）。该 MCP 工具应能确保内容提取的准确性、处理动态网页内容，并尽可能保留原文结构（如标题、列表、表格等）。Agent 会封装这些外部调用的复杂性，用户只需提供输入源即可。如果首选的 MCP 工具无法处理特定格式或遇到问题，Agent 可以尝试调用备用的、更专门化的 MCP 工具或集成的本地处理库作为后备方案，但主要策略是依赖统一的 MCP 服务。对于 Google 文档，如果 MCP 工具直接支持其链接，则直接处理；否则，提示用户导出为受支持的常见格式（如 PDF 或 Word）再进行转换。
    *   **核心价值**: 作为 NotebookLM 系统的"通用数据格式转换器"与"内容获取器"，为所有后续的智能分析和内容生成功能提供标准化的 Markdown 输入。它能够自动化处理多种文档类型和网页链接，屏蔽底层转换工具的复杂性，确保数据流入的统一性和便捷性。
    *   **输入来源**:
        *   用户上传的非 Markdown 文档/链接列表: (通过用户界面或指令提供，指向用户当前工作项目中的文件)
    *   **输出目标**:
        *   转换后的 Markdown 文件: 直接存储于用户当前工作项目的根目录下 (例如: `source_document_name.md`)。
        *   文档简介: (在 Markdown 文件转换完成后，提取或生成一个简短的文档摘要/简介，直接呈现给用户)。转换过程中的状态更新或任何问题将直接通过聊天界面反馈给用户。

2.  **智能问答 Agent (QA Agent)**：
    *   **职责**: 基于用户提供的 Markdown 格式文档数据，构建和优化问答模型。核心任务是根据用户提问，准确查找信息并生成回答，同时提供明确的答案来源引用。Agent 在回答前必须调用 **sequential-thinking mcp** 进行深度思考。如果文档中没有直接答案，Agent 会尝试通过**网络搜索**（例如查找专业文章或文献）寻找答案，并在回答时明确告知来源。此外，如果用户仅提供文档未提问，Agent 会主动分析并推荐相关问题；在回答用户问题后，Agent 也会智能推荐相关的追问问题，以鼓励用户进一步探索。
    *   **核心价值**: 实现 NotebookLM 的核心"智能问答"与"来源追溯"能力。
    *   **输入来源**:
        *   用户提供的 Markdown 文档: (例如 `source_document_name.md`)
        *   用户提问内容: (通过用户界面或指令提供)
    *   **输出目标**:
        *   **问答结果**: 包含基于文档的答案及来源引用，或在文档无答案时，基于网络搜索的答案及明确的网络来源信息（如专业文章或文献链接）。
        *   **建议性问题**: 
            *   若用户仅提供文档未提问，Agent将主动分析文档并推荐3-5个相关问题。
            *   在回答用户问题后，Agent将根据上下文智能推荐3-5个相关的追问问题。
        *   所有输出均通过聊天界面直接呈现给用户。

3.  **自动摘要 Agent (Summarization Agent)**：
    *   **职责**: 基于用户提供的 Markdown 格式文档数据，为指定文档或文档集合生成不同类型的结构化摘要。用户可以通过界面选择所需的摘要类型，例如：
        *   **学习指南 (Study Guide)**: 生成类似学习大纲的摘要，包含关键概念、定义和问题。
        *   **简报文档 (Briefing Doc)**: 生成简洁的摘要，突出核心信息和关键数据，适合快速了解。
        *   **常见问题解答 (FAQ)**: 从文档内容中提取或生成常见问题及其答案。
        *   **时间轴 (Timeline)**: 如果文档内容适合，提取或生成事件的时间顺序列表。
    *   **核心价值**: 实现 NotebookLM 的"自动摘要"能力，提供灵活的摘要选项，帮助用户根据不同需求快速把握文档核心。
    *   **输入来源**:
        *   用户提供的 Markdown 文档: (例如 `source_document_name.md`)
        *   用户指定的待摘要文档/范围及所需的摘要类型: (通过用户界面或指令提供)
    *   **输出目标**:
        *   生成的文档摘要: (以 Markdown 格式文件输出，例如 `摘要类型_文件名.md`，内容根据用户选择的摘要类型生成)

4.  **笔记生成 Agent (Note Generation Agent)**：
    *   **职责**: 根据用户提供的 Markdown 文档或智能问答 Agent 的问答结果，生成结构化的学习笔记、内容大纲或思维导图。如果用户未明确指定输出类型，将默认生成“学习笔记”，并在完成后提示用户还可以选择生成内容大纲或思维导图。
    *   **核心价值**: 实现 NotebookLM 的"笔记生成"能力，辅助用户学习和整理信息。
    *   **输入来源**:
        *   用户提供的 Markdown 文档: (例如 `source_document_name.md`)
        *   智能问答 Agent 的问答记录: (可选，作为生成笔记的上下文)
        *   用户指定的文档和笔记类型/要求: (通过用户界面或指令提供)
    *   **输出目标**:
        *   生成的笔记/大纲/思维导图: (以 Markdown 格式文件输出，如 `笔记名称.md`，内容根据用户具体要求生成)

5.  **音频总结 Agent (Audio Summary Agent)**：
    *   **职责**: 基于用户提供的 Markdown 格式文档数据，将指定的文档内容或摘要转换为独特的播客风格音频总结，以对话形式呈现。
    *   **核心价值**: 实现 NotebookLM 的"音频总结"能力，提供多样化的内容消费方式。
    *   **输入来源**:
        *   用户提供的 Markdown 文档: (例如 `source_document_name.md`)
        *   用户指定的待转换文档/内容范围: (通过用户界面或指令提供)
    *   **输出目标**:
        *   生成的音频总结 (MP3 文件): (保存在本地 `音频总结文件/` 目录下，例如 `音频文件名.mp3`)
        *   (可选) 音频脚本 (TXT 文件): (保存在本地 `音频总结文件/` 目录下，例如 `音频文件名_script.txt`)

## 协作流程 (以文档为核心，用户驱动)

用户（你）与 Agent 团队的协作流程主要围绕你提供的文档展开：

1.  **文档提供与可选的预处理**: 
    *   用户可以直接提供 Markdown 格式的文档给各个功能 Agent（智能问答、自动摘要、笔记生成、音频总结）。
    *   如果用户提供的是非 Markdown 文档（如PDF、文本文件、网页链接等），可以先通过 **文档管理 Agent** 进行内容提取、格式转换和必要的预处理，将其转换为 Markdown 格式。处理完成后，用户会收到文档已准备就绪的通知，并可以将转换后的 Markdown 文档用于后续的 Agent 调用。

2.  **基于文档的智能交互 (按需调用，非线性)**: 用户可以围绕提供的 Markdown 文档（无论是直接提供还是由文档管理 Agent 转换而来），按需、不分先后地通过 **用户界面 Agent** 与以下功能 Agent 交互：
    *   向 **智能问答 Agent** 提问，获取基于所提供 Markdown 文档的答案和来源。
    *   指令 **自动摘要 Agent** 为指定的 Markdown 文档生成摘要。
    *   指令 **笔记生成 Agent** 根据 Markdown 文档创建学习笔记、大纲或思维导图。
    *   指令 **音频总结 Agent** 将 Markdown 文档内容转换为播客风格音频。
    每个功能 Agent 独立运作，直接处理用户提供的 Markdown 文档。
4.  **系统集成与界面呈现**: **用户界面 Agent** 负责将各个独立功能模块的交互入口和结果展示整合到统一的 Web 界面中。**系统集成与维护 Agent** 确保后台各模块间的顺畅通信和数据流转。
5.  **测试与验证**: **功能测试 Agent** 针对各模块和整体系统进行测试，确保功能符合预期，用户体验良好。
6.  **部署与维护**: **系统集成与维护 Agent** 负责整个 NotebookLM 模拟系统的部署、监控和长期维护。

## 用户的核心角色

*   **需求发起者**: 清晰表达对 NotebookLM 各项功能的需求和预期。
*   **数据提供者**: 上传或指定需要处理的文档源。
*   **功能调用者**: 根据需要灵活使用各项智能功能（问答、摘要、笔记、音频）。
*   **结果评估者**: 判断各 Agent 输出是否满足需求，提供反馈用于迭代优化。

## 如何提升协作效率

*   **高质量的输入文档**: 提供清晰、格式良好、内容相关的源文档是提升所有后续功能效果的关键。 <mcreference link="https://blog.csdn.net/qq_29824567/article/details/142687076" index="3">3</mcreference>
*   **明确的交互指令**: 与各功能 Agent 交互时，提供具体的问题、清晰的摘要范围、明确的笔记类型要求等，能帮助 Agent 更准确地理解你的意图并生成期望的结果。 <mcreference link="https://sspai.com/post/84945" index="5">5</mcreference>
*   **利用引用溯源**: NotebookLM 的一大特点是回答会提供来源引用。 <mcreference link="https://www.playpcesor.com/2024/06/google-notebooklm-ai.html" index="2">2</mcreference> <mcreference link="https://sspai.com/post/84945" index="5">5</mcreference> 充分利用这一点，可以快速定位原文，进行精读和验证，加深理解。

此协作模式以用户上传的文档为核心，通过模块化的 Agent 提供灵活、按需的智能服务，模拟 NotebookLM 的核心学习与信息处理流程。